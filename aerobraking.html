<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸŒ AEROBRAKING â€” Mission ATLAS Act 9</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}:root{--void:#030308;--atmo:#4361ee;--heat:#e63946;--gold:#ffd60a;--green:#06d6a0}
    html,body{height:100%;overflow:hidden}body{font-family:'Segoe UI',sans-serif;background:var(--void);color:#f0f4ff}
    .game-container{display:grid;grid-template-columns:1fr 350px;grid-template-rows:auto 1fr auto;height:100vh}
    @media(max-width:900px){.game-container{grid-template-columns:1fr;grid-template-rows:auto 1fr auto auto}}
    .header{grid-column:1/-1;background:rgba(10,10,26,.95);padding:.5rem 1rem;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(67,97,238,.3)}
    .back-btn{background:rgba(67,97,238,.2);border:1px solid rgba(67,97,238,.4);border-radius:8px;padding:.5rem 1rem;color:var(--atmo);cursor:pointer}
    .game-title{font-family:'Courier New',monospace}.game-title .act{color:var(--gold);font-size:.8rem}
    .stat-value{font-family:'Courier New',monospace;font-size:1.3rem;color:var(--gold)}.stat-label{font-size:.7rem;color:#888}
    .lang-btn{background:rgba(255,255,255,.1);border:2px solid rgba(255,255,255,.2);border-radius:6px;padding:.25rem .5rem;cursor:pointer}
    .lang-btn.active{background:rgba(255,214,10,.2);border-color:var(--gold)}
    #gameCanvas{display:block;width:100%;height:100%;background:#0a0a1a}
    .control-panel{background:rgba(20,15,30,.98);padding:1rem;overflow-y:auto;border-left:1px solid rgba(67,97,238,.2);display:flex;flex-direction:column;gap:1rem}
    .panel-section{background:rgba(0,0,0,.3);border-radius:12px;padding:1rem;border:1px solid rgba(67,97,238,.2)}
    .section-title{font-family:'Courier New',monospace;color:var(--atmo);margin-bottom:.5rem}
    .data-row{display:flex;justify-content:space-between;padding:.25rem 0;font-size:.85rem}.data-label{color:#888}.data-value{font-family:'Courier New',monospace}
    .slider{width:100%;height:8px;-webkit-appearance:none;background:rgba(255,255,255,.1);border-radius:4px}
    .slider::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;border-radius:50%;background:var(--atmo);cursor:pointer}
    .formula-box{background:rgba(67,97,238,.1);border:1px solid rgba(67,97,238,.3);border-radius:8px;padding:.5rem;margin-bottom:.5rem;text-align:center}
    .formula{font-family:'Courier New',monospace;color:var(--atmo)}.formula-note{font-size:.75rem;color:#888}
    .btn{padding:1rem;border:none;border-radius:10px;font-family:'Courier New',monospace;cursor:pointer;width:100%;margin-bottom:.5rem}
    .btn-primary{background:linear-gradient(135deg,#4361ee,#3a56d4);color:#fff}
    .btn-secondary{background:rgba(255,255,255,.1);color:#fff}.btn-hint{background:rgba(255,214,10,.2);color:var(--gold)}
    .dialogue-box{background:rgba(0,0,0,.5);border-left:3px solid var(--atmo);padding:.5rem;font-size:.85rem}
    .footer{grid-column:1/-1;background:rgba(10,10,26,.95);padding:.5rem 1rem;font-size:.8rem;color:#888}
    .modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.9);z-index:1000;display:flex;align-items:center;justify-content:center;padding:2rem}
    .modal-overlay.hidden{opacity:0;pointer-events:none}
    .modal{max-width:700px;width:100%;max-height:90vh;overflow-y:auto;background:linear-gradient(135deg,rgba(20,20,40,.98),rgba(10,10,30,.98));border:2px solid var(--gold);border-radius:20px;padding:2rem}
    .modal-title{font-family:'Courier New',monospace;font-size:1.8rem;text-align:center;color:var(--gold);margin-bottom:1rem}
    .lang-selector-intro{display:flex;justify-content:center;gap:1rem;margin-bottom:2rem}
    .lang-option{display:flex;flex-direction:column;align-items:center;padding:1rem;background:rgba(255,255,255,.05);border:2px solid rgba(255,255,255,.2);border-radius:12px;cursor:pointer;min-width:100px}
    .lang-option.active{background:rgba(255,214,10,.2);border-color:var(--gold)}
    .lang-flag{font-size:2.5rem}.lang-name{font-size:.85rem;color:#888}
    .cinematic-scene{background:rgba(0,0,0,.5);border-radius:12px;padding:1.5rem;margin-bottom:1.5rem;font-family:'Courier New',monospace;line-height:1.8}
    .briefing-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin-bottom:1.5rem}
    .briefing-item{background:rgba(0,0,0,.3);border-radius:10px;padding:1rem;text-align:center}
    .briefing-icon{font-size:2rem}.briefing-label{font-size:.8rem;color:#888}.briefing-value{font-family:'Courier New',monospace;color:var(--atmo)}
    .modal-btn{display:block;width:100%;padding:1rem;background:linear-gradient(135deg,#ffd700,#ffaa00);border:none;border-radius:12px;font-family:'Courier New',monospace;font-size:1.1rem;color:#000;cursor:pointer;margin-bottom:.5rem}
    .modal-btn.secondary{background:rgba(255,255,255,.1);color:#fff}
    .result-medal{font-size:5rem;text-align:center}.result-title{font-family:'Courier New',monospace;font-size:1.5rem;text-align:center;color:var(--gold)}
    .hidden{display:none!important}
    .temp-bar{height:20px;background:rgba(255,255,255,.1);border-radius:10px;overflow:hidden;margin:.5rem 0}
    .temp-fill{height:100%;background:linear-gradient(90deg,#06d6a0,#ffd60a,#e63946);transition:width .3s}
  </style>
</head>
<body>
  <div class="modal-overlay" id="introModal">
    <div class="modal">
      <h1 class="modal-title" id="modalTitle">ğŸŒ Î‘Î•Î¡ÎŸÎ Î•Î”Î—Î£Î—</h1>
      <div class="lang-selector-intro">
        <div class="lang-option" data-lang="el" onclick="setLanguage('el')"><span class="lang-flag">ğŸ‡¬ğŸ‡·</span><span class="lang-name">Î•Î»Î»Î·Î½Î¹ÎºÎ¬</span></div>
        <div class="lang-option active" data-lang="en" onclick="setLanguage('en')"><span class="lang-flag">ğŸ‡¬ğŸ‡§</span><span class="lang-name">English</span></div>
        <div class="lang-option" data-lang="it" onclick="setLanguage('it')"><span class="lang-flag">ğŸ‡®ğŸ‡¹</span><span class="lang-name">Italiano</span></div>
        <div class="lang-option" data-lang="es" onclick="setLanguage('es')"><span class="lang-flag">ğŸ‡ªğŸ‡¸</span><span class="lang-name">EspaÃ±ol</span></div>
        <div class="lang-option" data-lang="bg" onclick="setLanguage('bg')"><span class="lang-flag">ğŸ‡§ğŸ‡¬</span><span class="lang-name">Ğ‘ÑŠĞ»Ğ³Ğ°Ñ€ÑĞºĞ¸</span></div>
        <div class="lang-option" data-lang="pt" onclick="setLanguage('pt')"><span class="lang-flag">ğŸ‡µğŸ‡¹</span><span class="lang-name">PortuguÃªs</span></div>
        <div class="lang-option" data-lang="de" onclick="setLanguage('de')"><span class="lang-flag">ğŸ‡©ğŸ‡ª</span><span class="lang-name">Deutsch</span></div>
        <div class="lang-option" data-lang="fr" onclick="setLanguage('fr')"><span class="lang-flag">ğŸ‡«ğŸ‡·</span><span class="lang-name">FranÃ§ais</span></div>
        <div class="lang-option" data-lang="fi" onclick="setLanguage('fi')"><span class="lang-flag">ğŸ‡«ğŸ‡®</span><span class="lang-name">Suomi</span></div>
      </div>
      <div class="cinematic-scene" id="introScene">Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î· Î“Î·! Î— Î¸ÎµÏÎ¼Î¹ÎºÎ® Î±ÏƒÏ€Î¯Î´Î± ÎµÎ¯Î½Î±Î¹ ÎºÎ±Ï„ÎµÏƒÏ„ÏÎ±Î¼Î¼Î­Î½Î·. Î ÏÎ­Ï€ÎµÎ¹ Î½Î± Ï…Ï€Î¿Î»Î¿Î³Î¯ÏƒÎµÎ¹Ï‚ Ï„Î·Î½ Ï„Î­Î»ÎµÎ¹Î± Î³Ï‰Î½Î¯Î± ÎµÎ¹ÏƒÏŒÎ´Î¿Ï… â€” Ï€Î¿Î»Ï Î±Ï€ÏŒÏ„Î¿Î¼Î± = Ï…Ï€ÎµÏÎ¸Î­ÏÎ¼Î±Î½ÏƒÎ·, Ï€Î¿Î»Ï ÏÎ·Ï‡Î¬ = Î±Î½Î±Ï€Î®Î´Î·ÏƒÎ·!</div>
      <div class="briefing-grid">
        <div class="briefing-item"><div class="briefing-icon">ğŸš€</div><div class="briefing-label" id="bl1">Î¤Î±Ï‡ÏÏ„Î·Ï„Î± Î•Î¹ÏƒÏŒÎ´Î¿Ï…</div><div class="briefing-value">v = 11 km/s</div></div>
        <div class="briefing-item"><div class="briefing-icon">ğŸŒ¡ï¸</div><div class="briefing-label" id="bl2">ÎœÎ­Î³. Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î±</div><div class="briefing-value">T_max = 2000Â°C</div></div>
        <div class="briefing-item"><div class="briefing-icon">ğŸ“</div><div class="briefing-label" id="bl3">Î“Ï‰Î½Î¯Î± Î•Î¹ÏƒÏŒÎ´Î¿Ï…</div><div class="briefing-value">Î¸ = 3Â° - 15Â°</div></div>
        <div class="briefing-item"><div class="briefing-icon">ğŸ¯</div><div class="briefing-label" id="bl4">ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î‘ÏƒÏ€Î¯Î´Î±Ï‚</div><div class="briefing-value">âš ï¸ ÎšÎ‘Î¤Î•Î£Î¤Î¡Î‘ÎœÎœÎ•ÎÎ—</div></div>
      </div>
      <button class="modal-btn" id="startBtn" onclick="startGame()">ğŸŒ Î•ÎÎ‘Î¡ÎÎ—</button>
    </div>
  </div>
  <div class="modal-overlay hidden" id="endModal">
    <div class="modal">
      <div class="result-medal" id="resultMedal">ğŸ¥‡</div>
      <h2 class="result-title" id="resultTitle">Î•Î Î™Î¤Î¥Î§Î™Î‘!</h2>
      <div class="cinematic-scene" id="endCinematic"></div>
      <button class="modal-btn" id="nextBtn" onclick="victory()">ğŸ† ÎŸÎ›ÎŸÎšÎ›Î—Î¡Î©Î£Î— Î‘Î ÎŸÎ£Î¤ÎŸÎ›Î—Î£</button>
      <button class="modal-btn secondary" id="retryBtn" onclick="retry()">ÎÎ‘ÎÎ‘Î”ÎŸÎšÎ™ÎœÎ‘Î£Î•</button>
    </div>
  </div>
  <div class="game-container">
    <header class="header">
      <div style="display:flex;align-items:center;gap:1rem">
        <button class="back-btn" id="backBtn" onclick="goBack()">â† Î Î™Î£Î©</button>
        <div class="game-title"><div class="act">ACT 9 â€” FINAL</div>AEROBRAKING</div>
      </div>
      <div style="display:flex;gap:2rem">
        <div class="stat-box"><div class="stat-value" id="attemptsDisplay">0</div><div class="stat-label" id="attemptsLabel">Î Î¡ÎŸÎ£Î Î‘Î˜Î•Î™Î•Î£</div></div>
        <div class="stat-box"><div class="stat-value" id="scoreDisplay">100</div><div class="stat-label" id="scoreLabel">Î’Î‘Î˜ÎœÎŸÎ£</div></div>
      </div>
      <div style="display:flex;gap:.5rem">
        <button class="lang-btn" data-lang="el" onclick="setLanguage('el')">ğŸ‡¬ğŸ‡·</button>
        <button class="lang-btn active" data-lang="en" onclick="setLanguage('en')">ğŸ‡¬ğŸ‡§</button>
        <button class="lang-btn" data-lang="it" onclick="setLanguage('it')">ğŸ‡®ğŸ‡¹</button>
        <button class="lang-btn" data-lang="es" onclick="setLanguage('es')">ğŸ‡ªğŸ‡¸</button>
        <button class="lang-btn" data-lang="bg" onclick="setLanguage('bg')">ğŸ‡§ğŸ‡¬</button>
        <button class="lang-btn" data-lang="pt" onclick="setLanguage('pt')">ğŸ‡µğŸ‡¹</button>
        <button class="lang-btn" data-lang="de" onclick="setLanguage('de')">ğŸ‡©ğŸ‡ª</button>
        <button class="lang-btn" data-lang="fr" onclick="setLanguage('fr')">ğŸ‡«ğŸ‡·</button>
        <button class="lang-btn" data-lang="fi" onclick="setLanguage('fi')">ğŸ‡«ğŸ‡®</button>
      </div>
    </header>
    <div><canvas id="gameCanvas"></canvas></div>
    <div class="control-panel">
      <div class="panel-section">
        <div class="section-title" id="dataTitle">ğŸ“Š Î”Î•Î”ÎŸÎœÎ•ÎÎ‘</div>
        <div class="data-row"><span class="data-label" id="dl1">Î¤Î±Ï‡ÏÏ„Î·Ï„Î±:</span><span class="data-value">11 km/s</span></div>
        <div class="data-row"><span class="data-label" id="dl2">ÎœÎ­Î³. T Î±ÏƒÏ€Î¯Î´Î±Ï‚:</span><span class="data-value">2000Â°C</span></div>
        <div class="data-row"><span class="data-label" id="dl3">Î¤ÏÎ­Ï‡Î¿Ï…ÏƒÎ± T:</span><span class="data-value" id="currentT">-- Â°C</span></div>
      </div>
      <div class="panel-section">
        <div class="section-title" id="angleTitle">ğŸ“ Î“Î©ÎÎ™Î‘ Î•Î™Î£ÎŸÎ”ÎŸÎ¥</div>
        <div style="display:flex;justify-content:space-between;margin-bottom:.5rem"><span id="angleLabel">Î“Ï‰Î½Î¯Î± Î¸:</span><span id="angleDisplay">4Â°</span></div>
        <input type="range" class="slider" id="angleSlider" min="3" max="15" value="4" step="0.5">
        <div class="temp-bar"><div class="temp-fill" id="tempFill" style="width:20%"></div></div>
      </div>
      <div class="panel-section">
        <div class="section-title" id="physicsTitle">ğŸ“ Î‘ÎÎ¤Î™Î£Î¤Î‘Î£Î— Î‘Î•Î¡Î‘</div>
        <div class="formula-box"><div class="formula">F = Â½ÏCdAvÂ²</div><div class="formula-note" id="fn1">Î”ÏÎ½Î±Î¼Î· Î±Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ·Ï‚</div></div>
        <div class="formula-box"><div class="formula">T âˆ vÂ³</div><div class="formula-note" id="fn2">Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î± ~ Ï„Î±Ï‡ÏÏ„Î·Ï„Î±Â³</div></div>
        <div class="formula-box"><div class="formula">Î”E = Â½mvâ‚Â² - Â½mvâ‚‚Â²</div><div class="formula-note" id="fn3">Î‘Ï€ÏÎ»ÎµÎ¹Î± ÎµÎ½Î­ÏÎ³ÎµÎ¹Î±Ï‚ â†’ Î¸ÎµÏÎ¼ÏŒÏ„Î·Ï„Î±</div></div>
      </div>
      <div class="panel-section">
        <button class="btn btn-primary" id="executeBtn" onclick="execute()">ğŸŒ Î•Î™Î£ÎŸÎ”ÎŸÎ£ Î‘Î¤ÎœÎŸÎ£Î¦Î‘Î™Î¡Î‘Î£</button>
        <button class="btn btn-secondary" id="resetBtn" onclick="reset()">â†º Î•Î Î‘ÎÎ‘Î¦ÎŸÎ¡Î‘</button>
        <button class="btn btn-hint" id="hintBtn" onclick="hint()">ğŸ’¡ Î¥Î ÎŸÎ”Î•Î™ÎÎ—</button>
      </div>
      <div class="panel-section"><div class="dialogue-box" id="dialogueText">Î— Î³Ï‰Î½Î¯Î± ÎµÎ¹ÏƒÏŒÎ´Î¿Ï… ÎºÎ±Î¸Î¿ÏÎ¯Î¶ÎµÎ¹ Ï€ÏŒÏƒÎ· ÎµÎ½Î­ÏÎ³ÎµÎ¹Î± Î¼ÎµÏ„Î±Ï„ÏÎ­Ï€ÎµÏ„Î±Î¹ ÏƒÎµ Î¸ÎµÏÎ¼ÏŒÏ„Î·Ï„Î±!</div></div>
    </div>
    <footer class="footer" id="footerText">SPACE: Î•Î¯ÏƒÎ¿Î´Î¿Ï‚ | R: Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬ | Î“Î· â€” Î‘Ï„Î¼Î¿ÏƒÏ†Î±Î¹ÏÎ¹ÎºÎ® Î•Î¯ÏƒÎ¿Î´Î¿Ï‚</footer>
  </div>
  <script>
    const I18N = {
      el: {
        modalTitle: "ğŸŒ Î‘Î•Î¡ÎŸÎ Î•Î”Î—Î£Î—", introScene: "Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î· Î“Î·! Î— Î¸ÎµÏÎ¼Î¹ÎºÎ® Î±ÏƒÏ€Î¯Î´Î± ÎµÎ¯Î½Î±Î¹ ÎºÎ±Ï„ÎµÏƒÏ„ÏÎ±Î¼Î¼Î­Î½Î·. Î ÏÎ­Ï€ÎµÎ¹ Î½Î± Ï…Ï€Î¿Î»Î¿Î³Î¯ÏƒÎµÎ¹Ï‚ Ï„Î·Î½ Ï„Î­Î»ÎµÎ¹Î± Î³Ï‰Î½Î¯Î± ÎµÎ¹ÏƒÏŒÎ´Î¿Ï… â€” Ï€Î¿Î»Ï Î±Ï€ÏŒÏ„Î¿Î¼Î± = Ï…Ï€ÎµÏÎ¸Î­ÏÎ¼Î±Î½ÏƒÎ·, Ï€Î¿Î»Ï ÏÎ·Ï‡Î¬ = Î±Î½Î±Ï€Î®Î´Î·ÏƒÎ·!",
        bl1: "Î¤Î±Ï‡ÏÏ„Î·Ï„Î± Î•Î¹ÏƒÏŒÎ´Î¿Ï…", bl2: "ÎœÎ­Î³. Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î±", bl3: "Î“Ï‰Î½Î¯Î± Î•Î¹ÏƒÏŒÎ´Î¿Ï…", bl4: "Î™Î´Î±Î½Î¹ÎºÎ® Î“Ï‰Î½Î¯Î±",
        startBtn: "ğŸŒ Î•ÎÎ‘Î¡ÎÎ—", backBtn: "â† Î Î™Î£Î©", attemptsLabel: "Î Î¡ÎŸÎ£Î Î‘Î˜Î•Î™Î•Î£", scoreLabel: "Î’Î‘Î˜ÎœÎŸÎ£",
        dataTitle: "ğŸ“Š Î”Î•Î”ÎŸÎœÎ•ÎÎ‘", dl1: "Î¤Î±Ï‡ÏÏ„Î·Ï„Î±:", dl2: "ÎœÎ­Î³. T Î±ÏƒÏ€Î¯Î´Î±Ï‚:", dl3: "Î¤ÏÎ­Ï‡Î¿Ï…ÏƒÎ± T:",
        angleTitle: "ğŸ“ Î“Î©ÎÎ™Î‘ Î•Î™Î£ÎŸÎ”ÎŸÎ¥", angleLabel: "Î“Ï‰Î½Î¯Î± Î¸:", physicsTitle: "ğŸ“ Î‘ÎÎ¤Î™Î£Î¤Î‘Î£Î— Î‘Î•Î¡Î‘",
        fn1: "Î”ÏÎ½Î±Î¼Î· Î±Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ·Ï‚", fn2: "Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î± ~ Ï„Î±Ï‡ÏÏ„Î·Ï„Î±Â³", fn3: "Î‘Ï€ÏÎ»ÎµÎ¹Î± ÎµÎ½Î­ÏÎ³ÎµÎ¹Î±Ï‚ â†’ Î¸ÎµÏÎ¼ÏŒÏ„Î·Ï„Î±",
        executeBtn: "ğŸŒ Î•Î™Î£ÎŸÎ”ÎŸÎ£ Î‘Î¤ÎœÎŸÎ£Î¦Î‘Î™Î¡Î‘Î£", resetBtn: "â†º Î•Î Î‘ÎÎ‘Î¦ÎŸÎ¡Î‘", hintBtn: "ğŸ’¡ Î¥Î ÎŸÎ”Î•Î™ÎÎ—",
        dialogueReady: "Î— Î³Ï‰Î½Î¯Î± ÎµÎ¹ÏƒÏŒÎ´Î¿Ï… ÎºÎ±Î¸Î¿ÏÎ¯Î¶ÎµÎ¹ Ï€ÏŒÏƒÎ· ÎµÎ½Î­ÏÎ³ÎµÎ¹Î± Î¼ÎµÏ„Î±Ï„ÏÎ­Ï€ÎµÏ„Î±Î¹ ÏƒÎµ Î¸ÎµÏÎ¼ÏŒÏ„Î·Ï„Î±!",
        dialogueHint: "Î£ÎºÎ­ÏˆÎ¿Ï…: ÎœÎµÎ³Î¬Î»Î· Î³Ï‰Î½Î¯Î± = Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ· Î±Î½Ï„Î¯ÏƒÏ„Î±ÏƒÎ· = Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ· Î¸ÎµÏÎ¼ÏŒÏ„Î·Ï„Î±. ÎœÎ¹ÎºÏÎ® Î³Ï‰Î½Î¯Î± = Î»Î¹Î³ÏŒÏ„ÎµÏÎ· Ï€Î­Î´Î·ÏƒÎ·. Î’ÏÎµÏ‚ Ï„Î·Î½ Î¹ÏƒÎ¿ÏÏÎ¿Ï€Î¯Î±!",
        footerText: "SPACE: Î•Î¯ÏƒÎ¿Î´Î¿Ï‚ | R: Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬ | Î“Î· â€” Î‘Ï„Î¼Î¿ÏƒÏ†Î±Î¹ÏÎ¹ÎºÎ® Î•Î¯ÏƒÎ¿Î´Î¿Ï‚",
        resultSuccess: "Î•Î Î™Î¤Î¥Î§Î—Î£ Î Î¡ÎŸÎ£Î“Î•Î™Î©Î£Î—!", resultFail: "Î‘Î ÎŸÎ¤Î¥Î§Î™Î‘", 
        endSuccess: "Î¤Î¿ Ï€Î»Î®ÏÏ‰Î¼Î± ÎµÏ€Î­ÏƒÏ„ÏÎµÏˆÎµ Î¼Îµ Î±ÏƒÏ†Î¬Î»ÎµÎ¹Î± ÏƒÏ„Î· Î“Î·!", endOverheat: "Î¥Ï€ÎµÏÎ¸Î­ÏÎ¼Î±Î½ÏƒÎ·! Î— Î±ÏƒÏ€Î¯Î´Î± ÎºÎ±Ï„Î­ÏÏÎµÏ…ÏƒÎµ.", endBounce: "Î Î¿Î»Ï ÏÎ·Ï‡Î® Î³Ï‰Î½Î¯Î± - Î±Î½Î±Ï€Î®Î´Î·ÏƒÎ· ÏƒÏ„Î¿ Î´Î¹Î¬ÏƒÏ„Î·Î¼Î±!",
        nextBtn: "ğŸ† ÎŸÎ›ÎŸÎšÎ›Î—Î¡Î©Î£Î— Î‘Î ÎŸÎ£Î¤ÎŸÎ›Î—Î£", retryBtn: "ÎÎ‘ÎÎ‘Î”ÎŸÎšÎ™ÎœÎ‘Î£Î•", tempLabel: "Î˜ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î±"
      },
      en: {
        modalTitle: "ğŸŒ AEROBRAKING", introScene: "Return to Earth! The heat shield is damaged. You must calculate the perfect entry angle â€” too steep = overheating, too shallow = bounce off!",
        bl1: "Entry Velocity", bl2: "Max Temperature", bl3: "Entry Angle", bl4: "Shield Status",
        startBtn: "ğŸŒ START", backBtn: "â† BACK", attemptsLabel: "ATTEMPTS", scoreLabel: "SCORE",
        dataTitle: "ğŸ“Š DATA", dl1: "Velocity:", dl2: "Max Shield T:", dl3: "Current T:",
        angleTitle: "ğŸ“ ENTRY ANGLE", angleLabel: "Angle Î¸:", physicsTitle: "ğŸ“ AIR RESISTANCE",
        fn1: "Drag force", fn2: "Temperature ~ velocityÂ³", fn3: "Energy loss â†’ heat",
        executeBtn: "ğŸŒ ENTER ATMOSPHERE", resetBtn: "â†º RESET", hintBtn: "ğŸ’¡ HINT",
        dialogueReady: "The entry angle determines how much energy converts to heat!",
        dialogueHint: "Think: Steep angle = more drag = more heat. Shallow angle = less braking. Find the balance!",
        footerText: "SPACE: Enter | R: Reset | Earth â€” Atmospheric Entry",
        resultSuccess: "SUCCESSFUL LANDING!", resultFail: "FAILURE",
        endSuccess: "The crew returned safely to Earth!", endOverheat: "Overheating! The shield collapsed.", endBounce: "Too shallow angle - bounced back to space!",
        nextBtn: "ğŸ† MISSION COMPLETE", retryBtn: "TRY AGAIN", tempLabel: "Temperature"
      },
      it: {
        modalTitle: "ğŸŒ AEROFRENATA", introScene: "Ritorno sulla Terra! Lo scudo termico Ã¨ danneggiato. Devi calcolare l'angolo di ingresso perfetto â€” troppo ripido = surriscaldamento, troppo basso = rimbalzo!",
        bl1: "VelocitÃ  di Ingresso", bl2: "Temperatura Max", bl3: "Angolo di Ingresso", bl4: "Stato Scudo",
        startBtn: "ğŸŒ INIZIA", backBtn: "â† INDIETRO", attemptsLabel: "TENTATIVI", scoreLabel: "PUNTEGGIO",
        dataTitle: "ğŸ“Š DATI", dl1: "VelocitÃ :", dl2: "T Max Scudo:", dl3: "T Attuale:",
        angleTitle: "ğŸ“ ANGOLO DI INGRESSO", angleLabel: "Angolo Î¸:", physicsTitle: "ğŸ“ RESISTENZA DELL'ARIA",
        fn1: "Forza di resistenza", fn2: "Temperatura ~ velocitÃ Â³", fn3: "Perdita energia â†’ calore",
        executeBtn: "ğŸŒ ENTRA NELL'ATMOSFERA", resetBtn: "â†º RICOMINCIA", hintBtn: "ğŸ’¡ SUGGERIMENTO",
        dialogueReady: "L'angolo di ingresso determina quanta energia si converte in calore!",
        dialogueHint: "Pensa: Angolo ripido = piÃ¹ resistenza = piÃ¹ calore. Angolo basso = meno frenata. Trova l'equilibrio!",
        footerText: "SPACE: Entra | R: Ricomincia | Terra â€” Ingresso Atmosferico",
        resultSuccess: "ATTERRAGGIO RIUSCITO!", resultFail: "FALLIMENTO",
        endSuccess: "L'equipaggio Ã¨ tornato sano e salvo sulla Terra!", endOverheat: "Surriscaldamento! Lo scudo Ã¨ collassato.", endBounce: "Angolo troppo basso - rimbalzato nello spazio!",
        nextBtn: "ğŸ† MISSIONE COMPLETATA", retryBtn: "RIPROVA", tempLabel: "Temperatura"
      },
      es: {
        modalTitle: "ğŸŒ AEROFRENADO", introScene: "Â¡Regreso a la Tierra! El escudo tÃ©rmico estÃ¡ daÃ±ado. Debes calcular el Ã¡ngulo de entrada perfecto â€” muy empinado = sobrecalentamiento, muy bajo = rebote!",
        bl1: "Velocidad de Entrada", bl2: "Temperatura MÃ¡x", bl3: "Ãngulo de Entrada", bl4: "Estado del Escudo",
        startBtn: "ğŸŒ INICIAR", backBtn: "â† ATRÃS", attemptsLabel: "INTENTOS", scoreLabel: "PUNTOS",
        dataTitle: "ğŸ“Š DATOS", dl1: "Velocidad:", dl2: "T MÃ¡x Escudo:", dl3: "T Actual:",
        angleTitle: "ğŸ“ ÃNGULO DE ENTRADA", angleLabel: "Ãngulo Î¸:", physicsTitle: "ğŸ“ RESISTENCIA DEL AIRE",
        fn1: "Fuerza de arrastre", fn2: "Temperatura ~ velocidadÂ³", fn3: "PÃ©rdida de energÃ­a â†’ calor",
        executeBtn: "ğŸŒ ENTRAR ATMÃ“SFERA", resetBtn: "â†º REINICIAR", hintBtn: "ğŸ’¡ PISTA",
        dialogueReady: "Â¡El Ã¡ngulo de entrada determina cuÃ¡nta energÃ­a se convierte en calor!",
        dialogueHint: "Piensa: Ãngulo empinado = mÃ¡s arrastre = mÃ¡s calor. Ãngulo bajo = menos frenado. Â¡Encuentra el equilibrio!",
        footerText: "SPACE: Entrar | R: Reiniciar | Tierra â€” Entrada AtmosfÃ©rica",
        resultSuccess: "Â¡ATERRIZAJE EXITOSO!", resultFail: "FALLO",
        endSuccess: "Â¡La tripulaciÃ³n regresÃ³ sana y salva a la Tierra!", endOverheat: "Â¡Sobrecalentamiento! El escudo colapsÃ³.", endBounce: "Ãngulo muy bajo - Â¡rebotÃ³ al espacio!",
        nextBtn: "ğŸ† MISIÃ“N COMPLETADA", retryBtn: "REINTENTAR", tempLabel: "Temperatura"
      },
      de: {
        modalTitle: "ğŸŒ AEROBRAKING", introScene: "RÃ¼ckkehr zur Erde! Der Hitzeschild ist beschÃ¤digt. Du musst den perfekten Eintrittswinkel berechnen â€” zu steil = Ãœberhitzung, zu flach = Abprallen!",
        bl1: "Eintrittsgeschwindigkeit", bl2: "Max Temperatur", bl3: "Eintrittswinkel", bl4: "Schildstatus",
        startBtn: "ğŸŒ START", backBtn: "â† ZURÃœCK", attemptsLabel: "VERSUCHE", scoreLabel: "PUNKTE",
        dataTitle: "ğŸ“Š DATEN", dl1: "Geschwindigkeit:", dl2: "Max Schild-T:", dl3: "Aktuelle T:",
        angleTitle: "ğŸ“ EINTRITTSWINKEL", angleLabel: "Winkel Î¸:", physicsTitle: "ğŸ“ LUFTWIDERSTAND",
        fn1: "Widerstandskraft", fn2: "Temperatur ~ GeschwindigkeitÂ³", fn3: "Energieverlust â†’ WÃ¤rme",
        executeBtn: "ğŸŒ ATMOSPHÃ„RE EINTRETEN", resetBtn: "â†º NEUSTART", hintBtn: "ğŸ’¡ HINWEIS",
        dialogueReady: "Der Eintrittswinkel bestimmt wie viel Energie in WÃ¤rme umgewandelt wird!",
        dialogueHint: "Denke: Steiler Winkel = mehr Widerstand = mehr Hitze. Flacher Winkel = weniger Bremsung. Finde das Gleichgewicht!",
        footerText: "SPACE: Eintreten | R: Neustart | Erde â€” AtmosphÃ¤reneintritt",
        resultSuccess: "ERFOLGREICHE LANDUNG!", resultFail: "FEHLGESCHLAGEN",
        endSuccess: "Die Crew kehrte sicher zur Erde zurÃ¼ck!", endOverheat: "Ãœberhitzung! Der Schild ist kollabiert.", endBounce: "Zu flacher Winkel - ins All abgeprallt!",
        nextBtn: "ğŸ† MISSION ABGESCHLOSSEN", retryBtn: "NOCHMAL", tempLabel: "Temperatur"
      },
      fr: {
        modalTitle: "ğŸŒ AÃ‰ROFREINAGE", introScene: "Retour sur Terre! Le bouclier thermique est endommagÃ©. Tu dois calculer l'angle d'entrÃ©e parfait â€” trop raide = surchauffe, trop faible = rebond!",
        bl1: "Vitesse d'EntrÃ©e", bl2: "TempÃ©rature Max", bl3: "Angle d'EntrÃ©e", bl4: "Ã‰tat du Bouclier",
        startBtn: "ğŸŒ DÃ‰MARRER", backBtn: "â† RETOUR", attemptsLabel: "ESSAIS", scoreLabel: "SCORE",
        dataTitle: "ğŸ“Š DONNÃ‰ES", dl1: "Vitesse:", dl2: "T Max Bouclier:", dl3: "T Actuelle:",
        angleTitle: "ğŸ“ ANGLE D'ENTRÃ‰E", angleLabel: "Angle Î¸:", physicsTitle: "ğŸ“ RÃ‰SISTANCE DE L'AIR",
        fn1: "Force de traÃ®nÃ©e", fn2: "TempÃ©rature ~ vitesseÂ³", fn3: "Perte d'Ã©nergie â†’ chaleur",
        executeBtn: "ğŸŒ ENTRER ATMOSPHÃˆRE", resetBtn: "â†º RECOMMENCER", hintBtn: "ğŸ’¡ INDICE",
        dialogueReady: "L'angle d'entrÃ©e dÃ©termine combien d'Ã©nergie se convertit en chaleur!",
        dialogueHint: "Pense: Angle raide = plus de traÃ®nÃ©e = plus de chaleur. Angle faible = moins de freinage. Trouve l'Ã©quilibre!",
        footerText: "SPACE: Entrer | R: Recommencer | Terre â€” EntrÃ©e AtmosphÃ©rique",
        resultSuccess: "ATTERRISSAGE RÃ‰USSI!", resultFail: "Ã‰CHEC",
        endSuccess: "L'Ã©quipage est rentrÃ© sain et sauf sur Terre!", endOverheat: "Surchauffe! Le bouclier s'est effondrÃ©.", endBounce: "Angle trop faible - rebondi dans l'espace!",
        nextBtn: "ğŸ† MISSION TERMINÃ‰E", retryBtn: "RÃ‰ESSAYER", tempLabel: "TempÃ©rature"
      },
      bg: {
        modalTitle: "ğŸŒ ĞĞ•Ğ ĞĞ¤Ğ Ğ•ĞĞ˜Ğ Ğ’ĞĞĞ•", introScene: "Ğ’Ñ€ÑŠÑ‰Ğ°Ğ½Ğµ Ğ½Ğ° Ğ—ĞµĞ¼ÑÑ‚Ğ°! Ğ¢Ğ¾Ğ¿Ğ»Ğ¸Ğ½Ğ½Ğ¸ÑÑ‚ Ñ‰Ğ¸Ñ‚ Ğµ Ğ¿Ğ¾Ğ²Ñ€ĞµĞ´ĞµĞ½. Ğ¢Ñ€ÑĞ±Ğ²Ğ° Ğ´Ğ° Ğ¸Ğ·Ñ‡Ğ¸ÑĞ»Ğ¸Ñˆ Ğ¿ĞµÑ€Ñ„ĞµĞºÑ‚Ğ½Ğ¸Ñ ÑŠĞ³ÑŠĞ» Ğ½Ğ° Ğ²Ğ»Ğ¸Ğ·Ğ°Ğ½Ğµ â€” Ñ‚Ğ²ÑŠÑ€Ğ´Ğµ ÑÑ‚Ñ€ÑŠĞ¼ĞµĞ½ = Ğ¿Ñ€ĞµĞ³Ñ€ÑĞ²Ğ°Ğ½Ğµ, Ñ‚Ğ²ÑŠÑ€Ğ´Ğµ Ğ¿Ğ»Ğ¾ÑÑŠĞº = Ğ¾Ñ‚ÑĞºĞ°Ñ‡Ğ°Ğ½Ğµ!",
        bl1: "Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ Ğ½Ğ° Ğ’Ğ»Ğ¸Ğ·Ğ°Ğ½Ğµ", bl2: "ĞœĞ°ĞºÑ Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ°", bl3: "ĞªĞ³ÑŠĞ» Ğ½Ğ° Ğ’Ğ»Ğ¸Ğ·Ğ°Ğ½Ğµ", bl4: "Ğ¡ÑŠÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ½Ğ° Ğ©Ğ¸Ñ‚Ğ°",
        startBtn: "ğŸŒ Ğ¡Ğ¢ĞĞ Ğ¢", backBtn: "â† ĞĞĞ—ĞĞ”", attemptsLabel: "ĞĞŸĞ˜Ğ¢Ğ˜", scoreLabel: "Ğ¢ĞĞ§ĞšĞ˜",
        dataTitle: "ğŸ“Š Ğ”ĞĞĞĞ˜", dl1: "Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚:", dl2: "ĞœĞ°ĞºÑ T Ğ½Ğ° Ñ‰Ğ¸Ñ‚Ğ°:", dl3: "Ğ¢ĞµĞºÑƒÑ‰Ğ° T:",
        angleTitle: "ğŸ“ ĞªĞ“ĞªĞ› ĞĞ Ğ’Ğ›Ğ˜Ğ—ĞĞĞ•", angleLabel: "ĞªĞ³ÑŠĞ» Î¸:", physicsTitle: "ğŸ“ Ğ’ĞªĞ—Ğ”Ğ£Ğ¨ĞĞ Ğ¡ĞªĞŸĞ ĞĞ¢Ğ˜Ğ’Ğ›Ğ•ĞĞ˜Ğ•",
        fn1: "Ğ¡Ğ¸Ğ»Ğ° Ğ½Ğ° ÑÑŠĞ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ»ĞµĞ½Ğ¸Ğµ", fn2: "Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° ~ ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚Â³", fn3: "Ğ—Ğ°Ğ³ÑƒĞ±Ğ° Ğ½Ğ° ĞµĞ½ĞµÑ€Ğ³Ğ¸Ñ â†’ Ñ‚Ğ¾Ğ¿Ğ»Ğ¸Ğ½Ğ°",
        executeBtn: "ğŸŒ Ğ’Ğ›Ğ•Ğ— Ğ’ ĞĞ¢ĞœĞĞ¡Ğ¤Ğ•Ğ ĞĞ¢Ğ", resetBtn: "â†º Ğ Ğ•Ğ¡Ğ¢ĞĞ Ğ¢", hintBtn: "ğŸ’¡ ĞŸĞĞ”Ğ¡ĞšĞĞ—ĞšĞ",
        dialogueReady: "ĞªĞ³ÑŠĞ»ÑŠÑ‚ Ğ½Ğ° Ğ²Ğ»Ğ¸Ğ·Ğ°Ğ½Ğµ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»Ñ ĞºĞ¾Ğ»ĞºĞ¾ ĞµĞ½ĞµÑ€Ğ³Ğ¸Ñ ÑĞµ Ğ¿Ñ€ĞµĞ²Ñ€ÑŠÑ‰Ğ° Ğ² Ñ‚Ğ¾Ğ¿Ğ»Ğ¸Ğ½Ğ°!",
        dialogueHint: "ĞŸĞ¾Ğ¼Ğ¸ÑĞ»Ğ¸: Ğ¡Ñ‚Ñ€ÑŠĞ¼ĞµĞ½ ÑŠĞ³ÑŠĞ» = Ğ¿Ğ¾Ğ²ĞµÑ‡Ğµ ÑÑŠĞ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ»ĞµĞ½Ğ¸Ğµ = Ğ¿Ğ¾Ğ²ĞµÑ‡Ğµ Ñ‚Ğ¾Ğ¿Ğ»Ğ¸Ğ½Ğ°. ĞŸĞ»Ğ¾ÑÑŠĞº ÑŠĞ³ÑŠĞ» = Ğ¿Ğ¾-Ğ¼Ğ°Ğ»ĞºĞ¾ ÑĞ¿Ğ¸Ñ€Ğ°Ğ½Ğµ. ĞĞ°Ğ¼ĞµÑ€Ğ¸ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ°!",
        footerText: "SPACE: Ğ’Ğ»ĞµĞ· | R: Ğ ĞµÑÑ‚Ğ°Ñ€Ñ‚ | Ğ—ĞµĞ¼Ñ â€” ĞÑ‚Ğ¼Ğ¾ÑÑ„ĞµÑ€Ğ½Ğ¾ Ğ’Ğ»Ğ¸Ğ·Ğ°Ğ½Ğµ",
        resultSuccess: "Ğ£Ğ¡ĞŸĞ•Ğ¨ĞĞ ĞšĞĞ¦ĞĞĞ•!", resultFail: "ĞĞ•Ğ£Ğ¡ĞŸĞ•Ğ¥",
        endSuccess: "Ğ•ĞºĞ¸Ğ¿Ğ°Ğ¶ÑŠÑ‚ ÑĞµ Ğ²ÑŠÑ€Ğ½Ğ° Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ Ğ½Ğ° Ğ—ĞµĞ¼ÑÑ‚Ğ°!", endOverheat: "ĞŸÑ€ĞµĞ³Ñ€ÑĞ²Ğ°Ğ½Ğµ! Ğ©Ğ¸Ñ‚ÑŠÑ‚ ÑĞµ ÑÑ€Ğ¸Ğ½Ğ°.", endBounce: "Ğ¢Ğ²ÑŠÑ€Ğ´Ğµ Ğ¿Ğ»Ğ¾ÑÑŠĞº ÑŠĞ³ÑŠĞ» - Ğ¾Ñ‚ÑĞºĞ¾Ñ‡Ğ¸ Ğ² ĞºĞ¾ÑĞ¼Ğ¾ÑĞ°!",
        nextBtn: "ğŸ† ĞœĞ˜Ğ¡Ğ˜Ğ¯ Ğ—ĞĞ’ĞªĞ Ğ¨Ğ•ĞĞ", retryBtn: "ĞĞŸĞ˜Ğ¢ĞĞ™ ĞĞ¢ĞĞĞ’Ğ", tempLabel: "Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ°"
      },
      pt: {
        modalTitle: "ğŸŒ AEROFRENAGEM", introScene: "Retorno Ã  Terra! O escudo tÃ©rmico estÃ¡ danificado. VocÃª deve calcular o Ã¢ngulo de entrada perfeito â€” muito Ã­ngreme = superaquecimento, muito raso = ricochete!",
        bl1: "Velocidade de Entrada", bl2: "Temperatura MÃ¡x", bl3: "Ã‚ngulo de Entrada", bl4: "Estado do Escudo",
        startBtn: "ğŸŒ INICIAR", backBtn: "â† VOLTAR", attemptsLabel: "TENTATIVAS", scoreLabel: "PONTOS",
        dataTitle: "ğŸ“Š DADOS", dl1: "Velocidade:", dl2: "T MÃ¡x Escudo:", dl3: "T Atual:",
        angleTitle: "ğŸ“ Ã‚NGULO DE ENTRADA", angleLabel: "Ã‚ngulo Î¸:", physicsTitle: "ğŸ“ RESISTÃŠNCIA DO AR",
        fn1: "ForÃ§a de arrasto", fn2: "Temperatura ~ velocidadeÂ³", fn3: "Perda de energia â†’ calor",
        executeBtn: "ğŸŒ ENTRAR ATMOSFERA", resetBtn: "â†º REINICIAR", hintBtn: "ğŸ’¡ DICA",
        dialogueReady: "O Ã¢ngulo de entrada determina quanta energia se converte em calor!",
        dialogueHint: "Pense: Ã‚ngulo Ã­ngreme = mais arrasto = mais calor. Ã‚ngulo raso = menos frenagem. Encontre o equilÃ­brio!",
        footerText: "SPACE: Entrar | R: Reiniciar | Terra â€” Entrada AtmosfÃ©rica",
        resultSuccess: "POUSO BEM-SUCEDIDO!", resultFail: "FALHA",
        endSuccess: "A tripulaÃ§Ã£o voltou em seguranÃ§a Ã  Terra!", endOverheat: "Superaquecimento! O escudo colapsou.", endBounce: "Ã‚ngulo muito raso - ricocheteou para o espaÃ§o!",
        nextBtn: "ğŸ† MISSÃƒO CONCLUÃDA", retryBtn: "TENTAR NOVAMENTE", tempLabel: "Temperatura"
      },
      fi: {
        modalTitle: "ğŸŒ ILMAJARRUTUS", introScene: "Paluu Maahan! LÃ¤mpÃ¶kilpi on vaurioitunut. Sinun tÃ¤ytyy laskea tÃ¤ydellinen sisÃ¤Ã¤ntulokulma â€” liian jyrkkÃ¤ = ylikuumeneminen, liian loiva = pomppaaminen!",
        bl1: "SisÃ¤Ã¤ntulonopeus", bl2: "Max LÃ¤mpÃ¶tila", bl3: "SisÃ¤Ã¤ntulokulma", bl4: "Kilven Tila",
        startBtn: "ğŸŒ ALOITA", backBtn: "â† TAKAISIN", attemptsLabel: "YRITYKSET", scoreLabel: "PISTEET",
        dataTitle: "ğŸ“Š TIEDOT", dl1: "Nopeus:", dl2: "Kilven Max T:", dl3: "Nykyinen T:",
        angleTitle: "ğŸ“ SISÃ„Ã„NTULOKULMA", angleLabel: "Kulma Î¸:", physicsTitle: "ğŸ“ ILMANVASTUS",
        fn1: "Vastusvoima", fn2: "LÃ¤mpÃ¶tila ~ nopeusÂ³", fn3: "EnergiahÃ¤viÃ¶ â†’ lÃ¤mpÃ¶",
        executeBtn: "ğŸŒ SIIRRY ILMAKEHÃ„Ã„N", resetBtn: "â†º ALUSTA", hintBtn: "ğŸ’¡ VIHJE",
        dialogueReady: "SisÃ¤Ã¤ntulokulma mÃ¤Ã¤rittÃ¤Ã¤ kuinka paljon energiaa muuttuu lÃ¤mmÃ¶ksi!",
        dialogueHint: "Ajattele: JyrkkÃ¤ kulma = enemmÃ¤n vastusta = enemmÃ¤n lÃ¤mpÃ¶Ã¤. Loiva kulma = vÃ¤hemmÃ¤n jarrutusta. LÃ¶ydÃ¤ tasapaino!",
        footerText: "SPACE: Siirry | R: Alusta | Maa â€” IlmakehÃ¤Ã¤n Saapuminen",
        resultSuccess: "ONNISTUNUT LASKU!", resultFail: "EPÃ„ONNISTUI",
        endSuccess: "MiehistÃ¶ palasi turvallisesti Maahan!", endOverheat: "Ylikuumeneminen! Kilpi romahti.", endBounce: "Liian loiva kulma - pomppasi avaruuteen!",
        nextBtn: "ğŸ† TEHTÃ„VÃ„ SUORITETTU", retryBtn: "YRITÃ„ UUDELLEEN", tempLabel: "LÃ¤mpÃ¶tila"
      }
    };
    
    let state = {lang:'en', phase:'intro', attempts:0, score:100, angle:4, v:11, T_MAX:2000, shipY:0, anim:false};
    const $ = id => document.getElementById(id);
    const canvas = $('gameCanvas'), ctx = canvas.getContext('2d');
    
    function t(key) { return I18N[state.lang][key] || key; }
    
    function setLanguage(lang) {
      state.lang = lang;
      localStorage.setItem('atlas_language', lang);
      document.querySelectorAll('.lang-btn').forEach(b => b.classList.toggle('active', b.dataset.lang === lang));
      document.querySelectorAll('.lang-option').forEach(o => o.classList.toggle('active', o.dataset.lang === lang));
      updateAllText();
    }
    
    function updateAllText() {
      $('modalTitle').textContent = t('modalTitle');
      $('introScene').textContent = t('introScene');
      $('bl1').textContent = t('bl1'); $('bl2').textContent = t('bl2');
      $('bl3').textContent = t('bl3'); $('bl4').textContent = t('bl4');
      $('startBtn').textContent = t('startBtn'); $('backBtn').textContent = t('backBtn');
      $('attemptsLabel').textContent = t('attemptsLabel'); $('scoreLabel').textContent = t('scoreLabel');
      $('dataTitle').textContent = t('dataTitle');
      $('dl1').textContent = t('dl1'); $('dl2').textContent = t('dl2'); $('dl3').textContent = t('dl3');
      $('angleTitle').textContent = t('angleTitle'); $('angleLabel').textContent = t('angleLabel');
      $('physicsTitle').textContent = t('physicsTitle');
      $('fn1').textContent = t('fn1'); $('fn2').textContent = t('fn2'); $('fn3').textContent = t('fn3');
      $('executeBtn').textContent = t('executeBtn'); $('resetBtn').textContent = t('resetBtn'); $('hintBtn').textContent = t('hintBtn');
      $('dialogueText').textContent = t('dialogueReady');
      $('footerText').textContent = t('footerText');
      $('nextBtn').textContent = t('nextBtn'); $('retryBtn').textContent = t('retryBtn');
    }
    
    function resize() { canvas.width = canvas.parentElement.clientWidth; canvas.height = canvas.parentElement.clientHeight; }
    function calcTemp(a) { const base = 500; const factor = Math.pow(a/7, 2.5); return Math.min(3000, base * factor); }
    
    function render() {
      const W = canvas.width, H = canvas.height;
      ctx.fillStyle = '#000'; ctx.fillRect(0, 0, W, H);
      for (let i = 0; i < 100; i++) { ctx.fillStyle = `rgba(255,255,255,${Math.random()*.5+.3})`; ctx.beginPath(); ctx.arc((i*137)%W, (i*73)%H, Math.random()+.5, 0, Math.PI*2); ctx.fill(); }
      const earthR = Math.min(W, H) * 0.4;
      const gr = ctx.createRadialGradient(W/2, H+earthR*0.3, earthR*0.8, W/2, H+earthR*0.3, earthR);
      gr.addColorStop(0, '#4361ee'); gr.addColorStop(0.3, '#1a237e'); gr.addColorStop(1, 'transparent');
      ctx.fillStyle = gr; ctx.beginPath(); ctx.arc(W/2, H+earthR*0.3, earthR, 0, Math.PI*2); ctx.fill();
      ctx.strokeStyle = 'rgba(67,97,238,0.3)'; ctx.lineWidth = 30; ctx.beginPath(); ctx.arc(W/2, H+earthR*0.3, earthR+20, Math.PI, 2*Math.PI); ctx.stroke();
      const shipX = W*0.3 + state.shipY*0.5, shipYpos = 50 + state.shipY;
      const T = calcTemp(state.angle);
      const heatColor = T > 2000 ? '#e63946' : T > 1500 ? '#ffd60a' : '#06d6a0';
      if (state.anim && state.shipY > 50) {
        ctx.fillStyle = heatColor; ctx.globalAlpha = 0.5;
        ctx.beginPath(); ctx.moveTo(shipX-30, shipYpos); ctx.lineTo(shipX-80, shipYpos+10); ctx.lineTo(shipX-30, shipYpos+20); ctx.closePath(); ctx.fill();
        ctx.globalAlpha = 1;
      }
      ctx.fillStyle = '#ccc'; ctx.beginPath(); ctx.arc(shipX, shipYpos, 15, 0, Math.PI*2); ctx.fill();
      ctx.fillStyle = '#fff'; ctx.font = '12px sans-serif'; ctx.fillText('ğŸš€', shipX-8, shipYpos+5);
      ctx.strokeStyle = 'rgba(255,214,10,0.3)'; ctx.setLineDash([5,5]); ctx.lineWidth = 2;
      ctx.beginPath(); ctx.moveTo(50, 30); ctx.lineTo(W*0.8, H*0.7); ctx.stroke(); ctx.setLineDash([]);
      ctx.fillStyle = '#ffd60a'; ctx.font = '16px monospace';
      ctx.fillText(t('angleLabel') + ' ' + state.angle + 'Â°', 20, 30);
      ctx.fillStyle = T > state.T_MAX ? '#e63946' : '#06d6a0';
      ctx.fillText(t('tempLabel') + ': ' + T.toFixed(0) + 'Â°C (max: ' + state.T_MAX + 'Â°C)', 20, 55);
      ctx.fillText(T > state.T_MAX ? 'âš ï¸' : state.angle < 5 ? 'âš ï¸' : 'âœ“', 20, 80);
      $('currentT').textContent = T.toFixed(0) + 'Â°C';
      $('currentT').style.color = T > state.T_MAX ? '#e63946' : '#06d6a0';
      $('tempFill').style.width = (T/3000*100) + '%';
    }
    
    function execute() {
      if (state.phase !== 'ready' || state.anim) return;
      state.attempts++; $('attemptsDisplay').textContent = state.attempts;
      state.anim = true; state.shipY = 0;
      const T = calcTemp(state.angle);
      const anim = () => {
        state.shipY += 5; render();
        if (state.shipY < canvas.height * 0.6) requestAnimationFrame(anim);
        else { state.anim = false; const success = T <= state.T_MAX && state.angle >= 5; showEnd(success, T); }
      };
      anim();
    }
    
    function showEnd(ok, T) {
      state.score = ok ? Math.max(0, 100 - (state.attempts-1)*15) : 0;
      $('resultMedal').textContent = ok ? 'ğŸ¥‡' : 'ğŸ’”';
      $('resultTitle').textContent = ok ? t('resultSuccess') : t('resultFail');
      let msg = ok ? t('endSuccess') : '';
      if (T > state.T_MAX) msg = t('endOverheat');
      if (state.angle < 5) msg = t('endBounce');
      $('endCinematic').innerHTML = '<p>' + msg + '</p><p>' + t('tempLabel') + ': ' + T.toFixed(0) + 'Â°C</p>';
      $('nextBtn').style.display = ok ? 'block' : 'none';
      $('endModal').classList.remove('hidden');
      localStorage.setItem('atlas_game9_completed', ok);
    }
    
    function reset() { state.shipY = 0; state.phase = 'ready'; render(); }
    function hint() { $('dialogueText').textContent = t('dialogueHint'); state.score = Math.max(0, state.score - 5); $('scoreDisplay').textContent = state.score; }
    function startGame() { state.phase = 'ready'; $('introModal').classList.add('hidden'); }
    function goBack() { window.location.href = 'index.html'; }
    function victory() { window.location.href = 'index.html'; }
    function retry() { $('endModal').classList.add('hidden'); state.attempts = 0; state.score = 100; $('attemptsDisplay').textContent = '0'; $('scoreDisplay').textContent = '100'; reset(); }
    
    document.addEventListener('DOMContentLoaded', () => {
      const sl = localStorage.getItem('atlas_language'); if (sl) setLanguage(sl); else updateAllText();
      resize(); window.addEventListener('resize', () => { resize(); render(); });
      $('angleSlider').addEventListener('input', e => { state.angle = parseFloat(e.target.value); $('angleDisplay').textContent = state.angle + 'Â°'; render(); });
      document.addEventListener('keydown', e => { if (e.code === 'Space') execute(); if (e.code === 'KeyR') reset(); });
      render();
    });
  </script>
</body>
</html>
